var _0x24e1=["setup loading scene","start loading scene"," -> loading assets...","destroy demo scene","setup demo scene","start demo scene","exports","call","defineProperty","undefined","toStringTag","__esModule","object","default","string","bind","prototype","hasOwnProperty","Theatre","body","loading","demo","expose","framerate","sharp","Canvas","theatre","width","height","container","context","element","assets","delta","render","update","scene","start","setup","forEach","type","scope","name","content","preloaded","scenes","size","version","0.7.0","load","restart","createElement","canvas","getContext","style","imageRendering","-moz-crisp-edges","-webkit-crisp-edges","crisp-edges","pixelated","imageSmoothingEnabled","setAttribute","now","preload","dataset","image","src","source","onload","sound","oncanplaythrough","push","all","then","datasets","images","sounds","destroy","destroy loading scene"," -> assets are loaded","log","-------","fillStyle","#181a1f","fillRect","font","16px Courier New","textAlign","textBaseline","top","#6b717d","fillText","/ Theatre","#d7dae0"];!function(x,t){!function(t){for(;--t;)x.push(x.shift())}(++t)}(_0x24e1,100);var _0xf8c7=function(x,t){return _0x24e1[x-=0]};!function(x){var t={};function c(n){if(t[n])return t[n][_0xf8c7("0x0")];var f=t[n]={i:n,l:!1,exports:{}};return x[n][_0xf8c7("0x1")](f[_0xf8c7("0x0")],f,f[_0xf8c7("0x0")],c),f.l=!0,f[_0xf8c7("0x0")]}c.m=x,c.c=t,c.d=function(x,t,n){c.o(x,t)||Object[_0xf8c7("0x2")](x,t,{enumerable:!0,get:n})},c.r=function(x){typeof Symbol!==_0xf8c7("0x3")&&Symbol[_0xf8c7("0x4")]&&Object.defineProperty(x,Symbol[_0xf8c7("0x4")],{value:"Module"}),Object[_0xf8c7("0x2")](x,_0xf8c7("0x5"),{value:!0})},c.t=function(x,t){if(1&t&&(x=c(x)),8&t)return x;if(4&t&&typeof x===_0xf8c7("0x6")&&x&&x.__esModule)return x;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,_0xf8c7("0x7"),{enumerable:!0,value:x}),2&t&&typeof x!=_0xf8c7("0x8"))for(var f in x)c.d(n,f,function(t){return x[t]}[_0xf8c7("0x9")](null,f));return n},c.n=function(x){var t=x&&x[_0xf8c7("0x5")]?function(){return x[_0xf8c7("0x7")]}:function(){return x};return c.d(t,"a",t),t},c.o=function(x,t){return Object[_0xf8c7("0xa")][_0xf8c7("0xb")][_0xf8c7("0x1")](x,t)},c.p="",c(c.s=0)}([function(x,t,c){"use strict";c.r(t),new(c(1)[_0xf8c7("0xc")])({container:document[_0xf8c7("0xd")],expose:!0,framerate:60,loading:_0xf8c7("0xe"),opening:_0xf8c7("0xf"),sharp:!0,size:{width:320,height:288}})},function(x,t,c){"use strict";c.r(t),c.d(t,"Theatre",function(){return r});var n=c(2),f=c(3),e=c(4),s=c(5),i=c(9);function r(x){const{container:t,loading:c,opening:r,size:o}=x,_=x[_0xf8c7("0x10")]||!1,u=x[_0xf8c7("0x11")]||60,a=x[_0xf8c7("0x12")]||!1;let d=null;this.preloaded=!1,this[_0xf8c7("0x27")]=i,this[_0xf8c7("0x28")]=o,this[_0xf8c7("0x29")]=_0xf8c7("0x2a"),this[_0xf8c7("0x2b")]=function(x){d=x},this[_0xf8c7("0x2c")]=function(){this.scene[_0xf8c7("0x1f")].call(this)},function(){const x=new(n[_0xf8c7("0x13")])("2d",_0xf8c7("0x14"),o[_0xf8c7("0x15")],o[_0xf8c7("0x16")]);!0===a&&x[_0xf8c7("0x12")](),t.appendChild(x.element),this[_0xf8c7("0x17")]=t,this[_0xf8c7("0x18")]=x[_0xf8c7("0x18")],this[_0xf8c7("0x19")]=x[_0xf8c7("0x19")],this[_0xf8c7("0x1a")]={},this[_0xf8c7("0x1b")]={},this[_0xf8c7("0x1b")][_0xf8c7("0x1c")]=0,this.delta[_0xf8c7("0x1d")]=0,this[_0xf8c7("0x1e")]=this.scenes[c],this.scene.setup[_0xf8c7("0x1")](this),this.scene[_0xf8c7("0x1f")][_0xf8c7("0x1")](this);const i=new f.Loop(u);i[_0xf8c7("0x1d")](x=>{this[_0xf8c7("0x1b")][_0xf8c7("0x1d")]=x,this.scene.update.call(this),null!==d&&(this[_0xf8c7("0x1e")].destroy[_0xf8c7("0x1")](this),this.scene=this.scenes[d],this[_0xf8c7("0x1e")][_0xf8c7("0x20")][_0xf8c7("0x1")](this),this.scene[_0xf8c7("0x1f")].call(this),d=null)}),i.render(x=>{this[_0xf8c7("0x1b")][_0xf8c7("0x1c")]=x,this[_0xf8c7("0x1e")][_0xf8c7("0x1c")].call(this)}),Object(e.preload)(s.assets,x=>{x[_0xf8c7("0x21")](x=>{typeof this.assets[x.type+"s"]===_0xf8c7("0x3")&&(this.assets[x[_0xf8c7("0x22")]+"s"]={}),typeof this[_0xf8c7("0x1a")][x[_0xf8c7("0x22")]+"s"][x[_0xf8c7("0x23")]]===_0xf8c7("0x3")&&(this.assets[x[_0xf8c7("0x22")]+"s"][x[_0xf8c7("0x23")]]={}),this[_0xf8c7("0x1a")][x.type+"s"][x[_0xf8c7("0x23")]][x[_0xf8c7("0x24")]]=x[_0xf8c7("0x25")]}),this[_0xf8c7("0x1e")].destroy[_0xf8c7("0x1")](this),this[_0xf8c7("0x26")]=!0,this[_0xf8c7("0x1e")]=this.scenes[r],this[_0xf8c7("0x1e")][_0xf8c7("0x20")][_0xf8c7("0x1")](this),this[_0xf8c7("0x1e")].start.call(this)})}[_0xf8c7("0x1")](this,x),!0===_&&(window[_0xf8c7("0x14")]=this)}},function(x,t,c){"use strict";function n(x,t,c,n){const f=document[_0xf8c7("0x2d")](_0xf8c7("0x2e")),e=f[_0xf8c7("0x2f")](x);f[_0xf8c7("0x37")]("id",t),f[_0xf8c7("0x37")]("height",n),f[_0xf8c7("0x37")](_0xf8c7("0x15"),c),this.context=e,this[_0xf8c7("0x19")]=f,this[_0xf8c7("0x12")]=function(){this[_0xf8c7("0x19")][_0xf8c7("0x30")][_0xf8c7("0x31")]=_0xf8c7("0x32"),this[_0xf8c7("0x19")][_0xf8c7("0x30")][_0xf8c7("0x31")]=_0xf8c7("0x33"),this[_0xf8c7("0x19")].style[_0xf8c7("0x31")]=_0xf8c7("0x34"),this.element[_0xf8c7("0x30")][_0xf8c7("0x31")]=_0xf8c7("0x35"),this[_0xf8c7("0x18")][_0xf8c7("0x36")]=!1}}c.r(t),c.d(t,"Canvas",function(){return n})},function(x,t,c){"use strict";function n(x){const t=1e3/x;let c=0,n=!1,f=null,e=null;this[_0xf8c7("0x1c")]=function(x){const t=Date.now();!1!==n&&x(t-f),requestAnimationFrame(this.render.bind(this,x)),n=!0,f=t},this.update=function(x){const n=Date[_0xf8c7("0x38")]();for(null!==e&&(c+=n-e);c>=t;)c-=t,x(t);setTimeout(this[_0xf8c7("0x1d")][_0xf8c7("0x9")](this,x),t),e=n}}c.r(t),c.d(t,"Loop",function(){return n})},function(x,t,c){"use strict";function n(x,t){let c=[];x.forEach(function(x){const t=new Promise(function(t,c){if(x[_0xf8c7("0x22")]===_0xf8c7("0x3a")&&(x[_0xf8c7("0x25")]=x.source,t(x)),x[_0xf8c7("0x22")]===_0xf8c7("0x3b")){const c=new Image;c[_0xf8c7("0x3c")]=x[_0xf8c7("0x3d")],c[_0xf8c7("0x3e")]=function(){x.content=c,t(x)}}else if(x[_0xf8c7("0x22")]===_0xf8c7("0x3f")){const c=new Audio(x.source);c[_0xf8c7("0x40")]=function(){x[_0xf8c7("0x25")]=c,t(x)}}});c[_0xf8c7("0x41")](t)}),Promise[_0xf8c7("0x42")](c)[_0xf8c7("0x43")](t)}c.r(t),c.d(t,_0xf8c7("0x39"),function(){return n})},function(x,t,c){"use strict";c.r(t),c.d(t,"assets",function(){return s});var n=c(6),f=c(7),e=c(8);const s=[...n[_0xf8c7("0x44")],...f[_0xf8c7("0x45")],...e.sounds]},function(x,t,c){"use strict";c.r(t),c.d(t,"datasets",function(){return n});const n=[]},function(x,t,c){"use strict";c.r(t),c.d(t,_0xf8c7("0x45"),function(){return n});const n=[]},function(x,t,c){"use strict";c.r(t),c.d(t,_0xf8c7("0x46"),function(){return n});const n=[]},function(x,t,c){"use strict";c.r(t);var n=c(10);c.d(t,_0xf8c7("0xe"),function(){return n});var f=c(16);c.d(t,_0xf8c7("0xf"),function(){return f})},function(x,t,c){"use strict";c.r(t);var n=c(11);c.d(t,_0xf8c7("0x47"),function(){return n[_0xf8c7("0x47")]});var f=c(12);c.d(t,_0xf8c7("0x1c"),function(){return f[_0xf8c7("0x1c")]});var e=c(13);c.d(t,_0xf8c7("0x20"),function(){return e[_0xf8c7("0x20")]});var s=c(14);c.d(t,"start",function(){return s[_0xf8c7("0x1f")]});var i=c(15);c.d(t,_0xf8c7("0x1d"),function(){return i[_0xf8c7("0x1d")]})},function(x,t,c){"use strict";function n(){console.log(_0xf8c7("0x48")+(!1===this[_0xf8c7("0x26")]?_0xf8c7("0x49"):"")),console[_0xf8c7("0x4a")](_0xf8c7("0x4b"))}c.r(t),c.d(t,"destroy",function(){return n})},function(x,t,c){"use strict";function n(){this[_0xf8c7("0x18")][_0xf8c7("0x4c")]=_0xf8c7("0x4d"),this[_0xf8c7("0x18")][_0xf8c7("0x4e")](0,0,this.size[_0xf8c7("0x15")],this[_0xf8c7("0x28")][_0xf8c7("0x16")]),!1===this[_0xf8c7("0x26")]&&(this[_0xf8c7("0x18")][_0xf8c7("0x4f")]=_0xf8c7("0x50"),this[_0xf8c7("0x18")][_0xf8c7("0x51")]=_0xf8c7("0x1f"),this[_0xf8c7("0x18")][_0xf8c7("0x52")]=_0xf8c7("0x53"),this[_0xf8c7("0x18")][_0xf8c7("0x4c")]=_0xf8c7("0x54"),this[_0xf8c7("0x18")][_0xf8c7("0x55")](_0xf8c7("0x56"),8,8),this.context[_0xf8c7("0x4c")]=_0xf8c7("0x57"),this[_0xf8c7("0x18")].fillText("$ loading assets...",8,32))}c.r(t),c.d(t,"render",function(){return n})},function(x,t,c){"use strict";function n(){console[_0xf8c7("0x4a")](_0xf8c7("0x58"))}c.r(t),c.d(t,"setup",function(){return n})},function(x,t,c){"use strict";function n(){console[_0xf8c7("0x4a")](_0xf8c7("0x59")+(!1===this[_0xf8c7("0x26")]?_0xf8c7("0x5a"):""))}c.r(t),c.d(t,_0xf8c7("0x1f"),function(){return n})},function(x,t,c){"use strict";function n(){}c.r(t),c.d(t,_0xf8c7("0x1d"),function(){return n})},function(x,t,c){"use strict";c.r(t);var n=c(17);c.d(t,_0xf8c7("0x47"),function(){return n.destroy});var f=c(18);c.d(t,_0xf8c7("0x1c"),function(){return f[_0xf8c7("0x1c")]});var e=c(19);c.d(t,_0xf8c7("0x20"),function(){return e.setup});var s=c(20);c.d(t,_0xf8c7("0x1f"),function(){return s.start});var i=c(21);c.d(t,"update",function(){return i[_0xf8c7("0x1d")]})},function(x,t,c){"use strict";function n(){console[_0xf8c7("0x4a")](_0xf8c7("0x5b")),console[_0xf8c7("0x4a")]("-------")}c.r(t),c.d(t,_0xf8c7("0x47"),function(){return n})},function(x,t,c){"use strict";function n(){this[_0xf8c7("0x18")][_0xf8c7("0x4c")]=_0xf8c7("0x57"),this.context.fillRect(0,0,this.size.width,this[_0xf8c7("0x28")][_0xf8c7("0x16")])}c.r(t),c.d(t,_0xf8c7("0x1c"),function(){return n})},function(x,t,c){"use strict";function n(){console.log(_0xf8c7("0x5c"))}c.r(t),c.d(t,"setup",function(){return n})},function(x,t,c){"use strict";function n(){console[_0xf8c7("0x4a")](_0xf8c7("0x5d"))}c.r(t),c.d(t,_0xf8c7("0x1f"),function(){return n})},function(x,t,c){"use strict";function n(){}c.r(t),c.d(t,_0xf8c7("0x1d"),function(){return n})}]);